/*Author : AL EMRAN
email:emrancu1@gmail.com
website:http://alemran.me
*/
export const SSLPayment = function () { let t = !1; const e = function () { $(".payment-modal-container").addClass("payment-active"), $("body").addClass("payment-modal-active") }, o = function (t, e) { return `\n\t <div class="payment-modal-container">\n     <div class="payment-modal-content">\n        <div class="payment-modal-header">\n            <div class="payment-logo">\n                <img src="${e}" class="payment-logo-img" alt="">\n            </div>\n            <div class="payment-close-button"  >x</div>\n        </div>\n        <div class="payment-modal-body">\n            <iframe src="${t}"  >\n            </iframe>\n        </div>\n     </div>\n     <div class="payment-modal-bg"></div>\n     </div>` }, n = function () { $("body").find("#ssl-payment-modal").on("click", ".payment-close-button", function () { $(".payment-modal-container").removeClass("payment-active"), $("body").removeClass("payment-modal-active"), setTimeout(() => { $("body").find("#ssl-payment-modal").html("") }, 300) }), window.addEventListener("message", function (t) { if ("https://sandbox.sslcommerz.com" === t.origin || "https://epay.sslcommerz.com" === t.origin) { let e = JSON.parse(t.data); "otp" != e.type && "gw_redirect" != e.type || window.location.replace(e.url), "resize" == e.type && $("body").find("#ssl-payment-modal").find(".payment-modal-body iframe").height(parseFloat(e.height) + 5) } }) }; let a = function () { $("body").prepend("<style> .payment-close-button{ font-size: 18px; line-height: 20px; color: #000; text-shadow: 0 1px 0 #fff; filter: alpha(opacity=20); opacity: .8; position: absolute; right: 10px; z-index: 999999; top: 9px; font-weight: 600; border-radius: 50%; border: 1px solid red; height: 25px; width: 25px; text-align: center; cursor: pointer; } .payment-modal-header{ position: relative; padding-bottom: 35px; background: white; margin-bottom: -10px; } .payment-modal-header > .payment-logo > .payment-logo-img{ max-height: 60px !important; } .payment-modal-header > .payment-logo{ position: absolute; top: 10px; z-index: 999; text-align: center; border-top-right-radius: 5px; border-top-left-radius: 5px; left: 100px; right: 100px; } .payment-modal-container.payment-active { opacity: 1; visibility: visible; z-index: 999; transition: all .6s; } .payment-modal-container { position: fixed; top: 0; left: 0; right: 0; bottom: 0; overflow: auto; display: flex; background: rgba(0,0,0,.5); justify-content: center; padding-top: 100px; opacity: 0; visibility: hidden; z-index: -1; transition: all .6s; } .payment-modal-content{ background-color: transparent; } .payment-modal-body{ position: relative; flex-shrink: 0; margin-top: auto; margin-bottom: auto; width: 340px; border-radius: 6px; opacity: 1; cursor: auto; transition: transform .3s cubic-bezier(.175, .885, .32, 1.275); padding-bottom: 100px; background-color: transparent; } .payment-modal-body > iframe{ border: none; margin: 0; padding: 0; display: block; height: 570px; width: 340px; border-radius: 5px; } body.payment-modal-active{ overflow-y: hidden !important; } </style>"), $("body").append('<div id="ssl-payment-modal"></div>'), t = !0, setTimeout(() => { n() }, 200) }; return { OpenModalWithRequest: function (n, i) { !function (n, i) { t || a(), fetch(n, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(i) }).then(t => t.json()).then(t => { if ("success" === t.status && t.data) { let n = t.data + "?full=1", a = t.logo, i = o(n, a); $("body").find("#ssl-payment-modal").html(i), setTimeout(() => { e() }, 100) } else alert("Something went wrong") }).catch(t => { alert("Something went wrong") }) }(n, i) }, OpenModal: function (n, i) { !function (n, i) { t || a(); let d = o(n + "?full=1", i); $("body").find("#ssl-payment-modal").html(d), setTimeout(() => { e() }, 100) }(n, i) } } }();